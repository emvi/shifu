{{define "user-window-title"}}
    <img src="{{config.UI.Path}}/static/icons/user.svg" alt="" />
    <span>Nutzerverwaltung</span>
{{end}}

{{define "user-window-content"}}
    <div class="shifu-toolbelt">
        <button>
            <img src="{{config.UI.Path}}/static/icons/add.svg" alt="" />
            Benutzer anlegen
        </button>
    </div>
    <table>
        <thead>
            <tr>
                <td>ID</td>
                <td>Email</td>
                <td>Name</td>
                <td>Bearbeiten</td>
            </tr>
        </thead>
        <tbody>
            {{$isAdmin := .Data.Admin}}

            {{range $user := .Data.User}}
                <tr>
                    <td>{{$user.ID}}</td>
                    <td>{{$user.Email}}</td>
                    <td>{{$user.FullName}}</td>
                    <td>
                        {{if $isAdmin}}
                            <div class="edit">
                                <button title="Nutzer bearbeiten">
                                    <img src="{{config.UI.Path}}/static/icons/edit.svg" alt="" />
                                </button>

                                {{if not (eq $user.Email "admin")}}
                                    <button title="Nutzer lÃ¶schen"
                                            hx-get="{{config.UI.Path}}/user/delete?id={{$user.ID}}"
                                            hx-target="body"
                                            hx-swap="beforeend">
                                        <img src="{{config.UI.Path}}/static/icons/delete.svg" alt="" />
                                    </button>
                                {{end}}
                            </div>
                        {{end}}
                    </td>
                </tr>
            {{end}}
        </tbody>
    </table>
{{end}}

{{template "window.html" .}}
