(()=>{(function(){document.addEventListener("htmx:beforeRequest",t=>{let e=t.target.getAttribute("data-window");if(e){let i=document.getElementById(e);i&&(d(t),i.remove(),t.preventDefault())}}),document.addEventListener("htmx:afterProcessNode",t=>{if(t.target.classList.contains("shifu-window")){let e=t.target.querySelector(".shifu-window-title");if(e){let i=localStorage.getItem(t.target.id);if(i){let s=JSON.parse(i);t.target.style.top=s.top,t.target.style.left=s.left}e.addEventListener("mousedown",a),e.addEventListener("mouseup",c)}}}),document.addEventListener("htmx:beforeCleanupElement",d),document.addEventListener("htmx:trigger",t=>{if(t.target.classList.contains("shifu-window-close")){d(t);let e=t.target;for(;!e.classList.contains("shifu-window");)e=e.parentNode;e.remove()}}),window.addEventListener("mousemove",f);let u=m(t=>{localStorage.setItem(t.id,JSON.stringify({top:t.style.top,left:t.style.left}))}),n=null,l,r,o=0;function a(t){n=t.target.parentNode,n.style.zIndex>o&&(o=n.style.zIndex),o++,n.style.zIndex=o,l=t.clientX,r=t.clientY}function c(){n=null}function f(t){if(n){let e=l-t.clientX,i=r-t.clientY;l=t.clientX,r=t.clientY,n.style.top=n.offsetTop-i+"px",n.style.left=n.offsetLeft-e+"px",u(n)}}function d(t){if(t.target.classList.contains("shifu-window")){let e=t.target.querySelector(".shifu-window-title");e&&(e.removeEventListener("mousedown",a),e.removeEventListener("mouseup",c))}}function m(t,e=300){let i;return(...s)=>{clearTimeout(i),i=setTimeout(()=>{t.apply(this,s)},e)}}})();})();
//# sourceMappingURL=admin.js.map
