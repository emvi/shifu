(()=>{(function(){document.addEventListener("htmx:beforeRequest",t=>{let e=t.target.getAttribute("data-window");if(e){let o=document.getElementById(e);o&&(d(t),o.remove(),t.preventDefault())}}),document.addEventListener("htmx:afterProcessNode",t=>{if(t.target.classList.contains("shifu-window")){let e=t.target.querySelector(".shifu-window-title");if(e){let o=localStorage.getItem(t.target.id);if(o){let s=JSON.parse(o);t.target.style.top=s.top,t.target.style.left=s.left}e.addEventListener("mousedown",a),e.addEventListener("mouseup",c)}}}),document.addEventListener("htmx:beforeCleanupElement",d),document.addEventListener("htmx:trigger",t=>{t.target.classList.contains("shifu-window-title-close")&&(d(t),t.target.parentNode.parentNode.remove())}),window.addEventListener("mousemove",f);let u=m(t=>{localStorage.setItem(t.id,JSON.stringify({top:t.style.top,left:t.style.left}))}),n=null,r,l,i=0;function a(t){n=t.target.parentNode,n.style.zIndex>i&&(i=n.style.zIndex),i++,n.style.zIndex=i,r=t.clientX,l=t.clientY}function c(){n=null}function f(t){if(n){let e=r-t.clientX,o=l-t.clientY;r=t.clientX,l=t.clientY,n.style.top=n.offsetTop-o+"px",n.style.left=n.offsetLeft-e+"px",u(n)}}function d(t){if(t.target.classList.contains("shifu-window")){let e=t.target.querySelector(".shifu-window-title");e&&(e.removeEventListener("mousedown",a),e.removeEventListener("mouseup",c))}}function m(t,e=300){let o;return(...s)=>{clearTimeout(o),o=setTimeout(()=>{t.apply(this,s)},e)}}})();})();
//# sourceMappingURL=admin.js.map
