(()=>{(function(){document.addEventListener("htmx:afterProcessNode",t=>{if(t.target.classList.contains("shifu-window")){let n=t.target.querySelector(".shifu-window-title");if(n){let o=localStorage.getItem(t.target.id);if(o){let s=JSON.parse(o);t.target.style.top=s.top,t.target.style.left=s.left}n.addEventListener("mousedown",c),n.addEventListener("mouseup",u)}}}),document.addEventListener("htmx:beforeCleanupElement",a),document.addEventListener("htmx:trigger",t=>{t.target.classList.contains("shifu-window-title-close")&&(a(t),t.target.parentNode.parentNode.remove())}),window.addEventListener("mousemove",d);let f=m(t=>{localStorage.setItem(t.id,JSON.stringify({top:t.style.top,left:t.style.left}))}),e=null,r,l,i=0;function c(t){e=t.target.parentNode,e.style.zIndex>i&&(i=e.style.zIndex),i++,e.style.zIndex=i,r=t.clientX,l=t.clientY}function u(){e=null}function d(t){if(e){let n=r-t.clientX,o=l-t.clientY;r=t.clientX,l=t.clientY,e.style.top=e.offsetTop-o+"px",e.style.left=e.offsetLeft-n+"px",f(e)}}function a(t){if(t.target.classList.contains("shifu-window")){let n=t.target.querySelector(".shifu-window-title");n&&(n.removeEventListener("mousedown",c),n.removeEventListener("mouseup",u))}}function m(t,n=300){let o;return(...s)=>{clearTimeout(o),o=setTimeout(()=>{t.apply(this,s)},n)}}})();})();
//# sourceMappingURL=admin.js.map
