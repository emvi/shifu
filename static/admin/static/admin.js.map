{
  "version": 3,
  "sources": ["../assets/js/main.js"],
  "sourcesContent": ["(function() {\n    document.addEventListener(\"htmx:afterProcessNode\", details => {\n        if (details.target.classList.contains(\"shifu-window\")) {\n            const title = details.target.querySelector(\".shifu-window-title\");\n\n            if (title) {\n                const settings = localStorage.getItem(details.target.id);\n\n                if (settings) {\n                    const position = JSON.parse(settings);\n                    details.target.style.top = position.top;\n                    details.target.style.left = position.left;\n                }\n\n                title.addEventListener(\"mousedown\", startDrag);\n                title.addEventListener(\"mouseup\", endDrag);\n            }\n        }\n    });\n    document.addEventListener(\"htmx:beforeCleanupElement\", cleanup);\n    document.addEventListener(\"htmx:trigger\", details => {\n        if (details.target.classList.contains(\"shifu-window-title-close\")) {\n            cleanup(details);\n            details.target.parentNode.parentNode.remove();\n        }\n    });\n    window.addEventListener(\"mousemove\", drag);\n    const save = debounce(target => {\n        localStorage.setItem(target.id, JSON.stringify({\n            top: target.style.top,\n            left: target.style.left\n        }));\n    });\n    let dragging = null;\n    let mouseX, mouseY, zIndex = 0;\n\n    function startDrag(e) {\n        dragging = e.target.parentNode;\n\n        if (dragging.style.zIndex > zIndex) {\n            zIndex = dragging.style.zIndex;\n        }\n\n        zIndex++;\n        dragging.style.zIndex = zIndex;\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    }\n\n    function endDrag() {\n        dragging = null;\n    }\n\n    function drag(e) {\n        if (dragging) {\n            const x = mouseX - e.clientX;\n            const y = mouseY - e.clientY;\n            mouseX = e.clientX;\n            mouseY = e.clientY;\n            dragging.style.top = (dragging.offsetTop - y) + \"px\";\n            dragging.style.left = (dragging.offsetLeft - x) + \"px\";\n            save(dragging);\n        }\n    }\n\n    function cleanup(details) {\n        if (details.target.classList.contains(\"shifu-window\")) {\n            const title = details.target.querySelector(\".shifu-window-title\");\n\n            if (title) {\n                title.removeEventListener(\"mousedown\", startDrag);\n                title.removeEventListener(\"mouseup\", endDrag);\n            }\n        }\n    }\n\n    function debounce(func, timeout = 300) {\n        let timer;\n        return (...args) => {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                func.apply(this, args);\n            }, timeout);\n        };\n    }\n})();\n"],
  "mappings": "OAAC,UAAW,CACR,SAAS,iBAAiB,wBAAyBA,GAAW,CAC1D,GAAIA,EAAQ,OAAO,UAAU,SAAS,cAAc,EAAG,CACnD,IAAMC,EAAQD,EAAQ,OAAO,cAAc,qBAAqB,EAEhE,GAAIC,EAAO,CACP,IAAMC,EAAW,aAAa,QAAQF,EAAQ,OAAO,EAAE,EAEvD,GAAIE,EAAU,CACV,IAAMC,EAAW,KAAK,MAAMD,CAAQ,EACpCF,EAAQ,OAAO,MAAM,IAAMG,EAAS,IACpCH,EAAQ,OAAO,MAAM,KAAOG,EAAS,IACzC,CAEAF,EAAM,iBAAiB,YAAaG,CAAS,EAC7CH,EAAM,iBAAiB,UAAWI,CAAO,CAC7C,CACJ,CACJ,CAAC,EACD,SAAS,iBAAiB,4BAA6BC,CAAO,EAC9D,SAAS,iBAAiB,eAAgBN,GAAW,CAC7CA,EAAQ,OAAO,UAAU,SAAS,0BAA0B,IAC5DM,EAAQN,CAAO,EACfA,EAAQ,OAAO,WAAW,WAAW,OAAO,EAEpD,CAAC,EACD,OAAO,iBAAiB,YAAaO,CAAI,EACzC,IAAMC,EAAOC,EAASC,GAAU,CAC5B,aAAa,QAAQA,EAAO,GAAI,KAAK,UAAU,CAC3C,IAAKA,EAAO,MAAM,IAClB,KAAMA,EAAO,MAAM,IACvB,CAAC,CAAC,CACN,CAAC,EACGC,EAAW,KACXC,EAAQC,EAAQC,EAAS,EAE7B,SAASV,EAAUW,EAAG,CAClBJ,EAAWI,EAAE,OAAO,WAEhBJ,EAAS,MAAM,OAASG,IACxBA,EAASH,EAAS,MAAM,QAG5BG,IACAH,EAAS,MAAM,OAASG,EACxBF,EAASG,EAAE,QACXF,EAASE,EAAE,OACf,CAEA,SAASV,GAAU,CACfM,EAAW,IACf,CAEA,SAASJ,EAAKQ,EAAG,CACb,GAAIJ,EAAU,CACV,IAAMK,EAAIJ,EAASG,EAAE,QACfE,EAAIJ,EAASE,EAAE,QACrBH,EAASG,EAAE,QACXF,EAASE,EAAE,QACXJ,EAAS,MAAM,IAAOA,EAAS,UAAYM,EAAK,KAChDN,EAAS,MAAM,KAAQA,EAAS,WAAaK,EAAK,KAClDR,EAAKG,CAAQ,CACjB,CACJ,CAEA,SAASL,EAAQN,EAAS,CACtB,GAAIA,EAAQ,OAAO,UAAU,SAAS,cAAc,EAAG,CACnD,IAAMC,EAAQD,EAAQ,OAAO,cAAc,qBAAqB,EAE5DC,IACAA,EAAM,oBAAoB,YAAaG,CAAS,EAChDH,EAAM,oBAAoB,UAAWI,CAAO,EAEpD,CACJ,CAEA,SAASI,EAASS,EAAMC,EAAU,IAAK,CACnC,IAAIC,EACJ,MAAO,IAAIC,IAAS,CAChB,aAAaD,CAAK,EAClBA,EAAQ,WAAW,IAAM,CACrBF,EAAK,MAAM,KAAMG,CAAI,CACzB,EAAGF,CAAO,CACd,CACJ,CACJ,GAAG",
  "names": ["details", "title", "settings", "position", "startDrag", "endDrag", "cleanup", "drag", "save", "debounce", "target", "dragging", "mouseX", "mouseY", "zIndex", "e", "x", "y", "func", "timeout", "timer", "args"]
}
